---
import { SignUp } from '@clerk/astro/components';
---

<main class="min-h-screen bg-gray-50 flex items-center justify-center p-6">
  <div class="w-full max-w-md form-center">
    <SignUp path="/sign-up" routing="path" afterSignUpUrl="/collection" signInUrl="/sign-in" localization={{ language: 'es' }} />
  </div>

  <script>
    const replacements = {
      'Create an account': 'Crear cuenta',
      'Create your account': 'Crear tu cuenta',
      'Welcome! Please fill in the details to get started.': '¡Bienvenido! Completa los datos para empezar.',
      'First name': 'Nombre',
      'Last name': 'Apellido',
      'Username': 'Nombre de usuario',
      'Optional': 'Opcional',
      'Email address': 'Correo electrónico',
      'Password': 'Contraseña',
      'Enter your password': 'Introduce tu contraseña',
      'Already have an account?': '¿Ya tienes cuenta?',
      'Sign in': 'Iniciar sesión',
      'Secured by': 'Protegido por',
      'Development mode': 'Modo desarrollo'
    };
    function replaceTextNodes(root) {
      const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, null);
      const nodes = [];
      while (walker.nextNode()) nodes.push(walker.currentNode);
      for (const n of nodes) {
        const txt = n.nodeValue.trim();
        if (!txt) continue;
        for (const [a,b] of Object.entries(replacements)) if (txt.includes(a)) n.nodeValue = n.nodeValue.replace(a,b);
      }
    }
    document.addEventListener('DOMContentLoaded', () => {
      replaceTextNodes(document.querySelector('.form-center'));
      setTimeout(() => replaceTextNodes(document.querySelector('.form-center')), 600);
    });
  </script>
</main>
